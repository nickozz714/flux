{
  "title": "Flux Command Catalog",
  "version": "v0.5.0",
  "baseDirHint": "/Server/Applications",
  "commands": [
    {
      "id": "status",
      "name": "status",
      "desc": "Show proxy and sites status",
      "args": []
    },
    {
      "id": "list",
      "name": "list",
      "desc": "List all sites",
      "args": []
    },
    {
      "id": "reload-proxy",
      "name": "reload-proxy",
      "desc": "Reload nginx-proxy",
      "args": []
    },
    {
      "id": "init",
      "name": "init",
      "desc": "Initialize proxy + network (one-time)",
      "args": []
    },
    {
      "id": "add",
      "name": "add",
      "desc": "Add site from site.json",
      "args": [
        {
          "name": "siteJson",
          "type": "path",
          "required": true
        }
      ]
    },
    {
      "id": "update",
      "name": "update",
      "desc": "Update site from site.json",
      "args": [
        {
          "name": "siteJson",
          "type": "path",
          "required": true
        }
      ]
    },
    {
      "id": "remove",
      "name": "remove",
      "desc": "Remove site by name",
      "args": [
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "quick-start",
      "name": "quick-start",
      "desc": "Start quick tunnel",
      "args": [
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "quick-url",
      "name": "quick-url",
      "desc": "Show quick tunnel URL",
      "args": [
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "quick-stop",
      "name": "quick-stop",
      "desc": "Stop quick tunnel",
      "args": [
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "scaffold-static",
      "name": "scaffold",
      "desc": "Scaffold static site",
      "args": [
        {
          "name": "type",
          "type": "const",
          "value": "static"
        },
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "scaffold-fullstack",
      "name": "scaffold",
      "desc": "Scaffold fullstack",
      "args": [
        {
          "name": "type",
          "type": "const",
          "value": "fullstack"
        },
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "scaffold-api-only",
      "name": "scaffold",
      "desc": "Scaffold API-only",
      "args": [
        {
          "name": "type",
          "type": "const",
          "value": "api-only"
        },
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "scaffold-db-only",
      "name": "scaffold",
      "desc": "Scaffold DB-only",
      "args": [
        {
          "name": "type",
          "type": "const",
          "value": "db-only"
        },
        {
          "name": "name",
          "type": "string",
          "required": true
        }
      ]
    },
    {
      "id": "db-create",
      "exec": [
        "db"
      ],
      "name": "create",
      "desc": "Create DB",
      "args": [
        {
          "name": "siteJson",
          "type": "path",
          "required": true
        }
      ]
    },
    {
      "id": "db-dump",
      "exec": [
        "db"
      ],
      "name": "dump",
      "desc": "Dump DB",
      "args": [
        {
          "name": "siteJson",
          "type": "path",
          "required": true
        },
        {
          "name": "outfile",
          "type": "path",
          "required": true
        }
      ]
    },
    {
      "id": "db-restore",
      "exec": [
        "db"
      ],
      "name": "restore",
      "desc": "Restore DB",
      "args": [
        {
          "name": "siteJson",
          "type": "path",
          "required": true
        },
        {
          "name": "infile",
          "type": "path",
          "required": true
        }
      ]
    },
    {
      "id": "db-migrate",
      "exec": [
        "db"
      ],
      "name": "migrate",
      "desc": "Migrate from remote (direct)",
      "args": [
        {
          "name": "host",
          "type": "string",
          "required": true
        },
        {
          "name": "user",
          "type": "string",
          "required": true
        },
        {
          "name": "pass",
          "type": "string",
          "required": true
        },
        {
          "name": "db",
          "type": "string",
          "required": true
        },
        {
          "name": "targetJson",
          "type": "path",
          "required": true
        }
      ],
      "flags": [
        {
          "name": "port",
          "type": "string",
          "switch": "--port"
        }
      ]
    },
    {
      "id": "db-migrate-ssh",
      "exec": [
        "db"
      ],
      "name": "migrate-remote",
      "desc": "Migrate via SSH (dump on remote)",
      "args": [
        {
          "name": "mode",
          "type": "const",
          "value": "ssh"
        },
        {
          "name": "ssh",
          "type": "string",
          "required": true
        },
        {
          "name": "srcdb",
          "type": "string",
          "required": true
        },
        {
          "name": "targetJson",
          "type": "path",
          "required": true
        }
      ],
      "flags": [
        {
          "name": "u",
          "type": "string",
          "switch": "--mysql-user"
        },
        {
          "name": "p",
          "type": "string",
          "switch": "--mysql-pass"
        },
        {
          "name": "sock",
          "type": "string",
          "switch": "--mysql-sock"
        }
      ]
    },
    {
      "id": "db-migrate-tunnel",
      "exec": [
        "db"
      ],
      "name": "migrate-remote",
      "desc": "Migrate via SSH tunnel",
      "args": [
        {
          "name": "mode",
          "type": "const",
          "value": "tunnel"
        },
        {
          "name": "ssh",
          "type": "string",
          "required": true
        },
        {
          "name": "srcHost",
          "type": "string",
          "required": true
        },
        {
          "name": "targetJson",
          "type": "path",
          "required": true
        }
      ],
      "flags": [
        {
          "name": "srcUser",
          "type": "string",
          "switch": "--src-user"
        },
        {
          "name": "srcPass",
          "type": "string",
          "switch": "--src-pass"
        },
        {
          "name": "port",
          "type": "string",
          "switch": "--port"
        }
      ]
    }
  ]
}